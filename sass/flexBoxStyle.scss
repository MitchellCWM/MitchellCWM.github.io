@use 'sass:list';
@import 'colors';

@mixin setUpFlex($direction: row-reverse) {
   display: flex;
   flex-direction: $direction;
   align-items: center;
   justify-content: space-between;
}

@mixin setUpColors($startcolor: 1, $amount) {
   @for $i from 1 through $amount {
      $colorIndex: $startcolor + $i;

      &:nth-child(#{$i}) {
         background-color: list.nth($boxColors, $colorIndex);
      }
   }
}

.wrapper {
   @include setUpFlex(column-reverse);
   width: 100%;
   height: 100%;
}


%boxFormat {
   border: 5px $outerBoxBorderColor;
   flex-grow: 1
}

%verticalBoxFormat {
   @extend %innerBoxFormat;
   height: 90%;
}

%horizontalBoxFormat {
   @extend %innerBoxFormat;
   width: 90%;
}

%innerBoxFormat {
   @extend %boxFormat;
   margin: 1%;
}

div[type=vertical] {
   @extend %verticalBoxFormat;
}

div[type=horizontal] {
   @extend %horizontalBoxFormat;
}

.wrapper--box {
   @extend %boxFormat;
   width: 100%;
   @include setUpColors(0, 5);

   &:nth-child(1) {
      flex-grow: 3;
   }

   &:last-child {
      flex-grow: 2;
   }
}

.wrapper--box:first-child {
   @include setUpFlex(row-reverse);

   .wrapper--box--box {
      @include setUpFlex(column);
      @include setUpColors(1, 3);

      &:nth-child(2) {
         flex-grow: 4;
      }

      &:first-child {
         flex-direction: row;

         .wrapper--box--box--box {
            @include setUpColors(9, 2);
         }
      }

      &:nth-child(2) {
         .wrapper--box--box--box {
            @extend %horizontalBoxFormat;
            @include setUpColors(8, 4);

            &:nth-child(2n+0) {
               flex-grow: 2;
            }
         }
      }
   }
}

.wrapper--box:nth-child(2) {
   @include setUpFlex(row);

   .wrapper--box--box {
      @include setUpColors(14, 2);

      &:last-child {
         flex-grow: 8;
         @include setUpFlex(row-reverse);

         .wrapper--box--box--box {
            @include setUpColors(16, 12);

            &:nth-child(3n +2) {
               flex-grow: 5;
               @include setUpFlex(column-reverse);

               .wrapper--box--box--box--box {
                  @include setUpColors(0, 5);
               }
            }
         }

      }
   }
}


.wrapper--box:last-child{
   @include setUpFlex(column);
   .wrapper--box--box{
      @include setUpColors(18, 9);
      margin: 0;
      &:last-child{
         @include setUpFlex(row);
         .wrapper--box--box--box{
            @include setUpColors(5, 16);
         }
      }
   }
   
}